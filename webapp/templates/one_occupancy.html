<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>Grayscale - Start Bootstrap Theme</title>
        <link rel="icon" type="image/x-icon" href="/static/assets/img/favicon.ico" />
        <!-- Font Awesome icons (free version)-->
        <script src="https://use.fontawesome.com/releases/v5.15.1/js/all.js" crossorigin="anonymous"></script>
        <!-- Google fonts-->
        <link href="https://fonts.googleapis.com/css?family=Varela+Round" rel="stylesheet" />
        <link href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet" />
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="/static/css/styles.css" rel="stylesheet" />
		<link href="/static/custom.css" rel="stylesheet">
    </head>
    <body id="page-top">
        <!-- Navigation-->
        <nav class="navbar navbar-expand-lg navbar-light fixed-top" id="mainNav">
            <div class="container">
                <a class="navbar-brand js-scroll-trigger" href="#page-top">One Auslastung</a>
                <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
                    Menu
                    <i class="fas fa-bars"></i>
                </button>
                <div class="collapse navbar-collapse" id="navbarResponsive">
                    <ul class="navbar-nav ml-auto">
                        <li class="nav-item"><a class="nav-link js-scroll-trigger" href="#contact">About</a></li>
                    </ul>
                </div>
            </div>
        </nav>
        <!-- Masthead-->
        <header class="masthead">
            <div class="container d-flex h-100 align-items-center">                
					
				<div class="row">
					<div class="mx-auto text-center">
						<h1 class="mx-auto my-0 text-uppercase">Auslastung</h1>
						<h3 class="text-white-50 mx-auto mt-2 mb-5">One Fitnesszenter Zentralschweiz</h3>
						<br>
					</div>
				
                    <div class="col-12 mb-3 mb-md-0">
                        <div class="card py-4 h-100">
                            <div class="card-body text-center">
                                <h4 class="text-uppercase m-0">Aktuelle Auslastung</h4>
                                <hr class="my-4" />
                            </div>
								
							<div class="row">
							<!-- Create a Doughnut Chart for each centre -->
							{%for i in range(len)%} 
								<div class="col-lg-2 col-md-3 col-sm-4 col-4">
									<div class="outer ml-4 mr-4"> 
										<p class="location text-center">
											{{centres[i]}}    
										</p>
										<canvas id="doughnut_chart_centre{{i+1}}" width="50%" height="50%"></canvas>
										 <p class="percent">
										 {{current_occupancy_percent[i]}}
										 </p>
										 <a href = "#!" onclick="update_history_chart({{centre_ids[i]}});"> 
										 <span class="hyperspan"></span>
										 </a>
									</div>
								</div>
							{%endfor%} 
							</div>
                        </div>
                    </div>
					
                    <div class="col-12 mb-3 mb-md-0 mt-4">
                        <div class="card py-4">
                            <div class="card-body text-center">
                                <h4 id="centre_prediction_occupancy_title" class="text-uppercase m-0">Voraussichtliche Auslastung in </h4>
                                <hr class="my-4" />
								<div class="chart-container" style="position: relative; height:40vh; width:100%;">
                                <!-- <div id="canvasWrapper"> style="position: relative; height: 50vh" -->
									<canvas id="centre_prediction_occupancy_linechart"></canvas>	
								</div>
                            </div>
                        </div>
                    </div>
				</div>	
            </div>
        </header>
        <!-- About
        <section class="about-section text-center" id="about">
            <div class="container">
                <div class="row">
                    <div class="col-md-12 mb-3 mb-md-0">
                        <div class="card py-4 h-100">
                            <div class="card-body text-center">
                                <i class="fas fa-map-marked-alt text-primary mb-2"></i>
                                <h4 class="text-uppercase m-0">Address</h4>
                                <hr class="my-4" />
                                <div class="small text-black-50">4923 Market Street, Orlando FL</div>
                            </div>
                        </div>
                    </div>
					
                    <div class="col-md-12 mb-3 mb-md-0 mt-4">
                        <div class="card py-4 h-100">
                            <div class="card-body text-center">
                                <i class="fas fa-envelope text-primary mb-2"></i>
                                <h4 class="text-uppercase m-0">Email</h4>
                                <hr class="my-4" />
                                <div class="small text-black-50"><a href="#!">hello@yourdomain.com</a></div>
                            </div>
                        </div>
                    </div>
				</div>
            </div>
        </section>
		-->
        <!-- Projects
        <section class="projects-section bg-light" id="projects">
            <div class="container">

				<!-- Featured Project Row -!->
                <div class="row align-items-center no-gutters mb-4 mb-lg-5">
                    <div class="col-xl-8 col-lg-7"><img class="img-fluid mb-3 mb-lg-0" src="/static/assets/img/bg-masthead.jpg" alt="" /></div>
                    <div class="col-xl-4 col-lg-5">
                        <div class="featured-text text-center text-lg-left">
                            <h4>Shoreline</h4>
                            <p class="text-black-50 mb-0">Grayscale is open source and MIT licensed. This means you can use it for any project - even commercial projects! Download it, customize it, and publish your website!</p>
                        </div>
                    </div>
                </div>
                <!-- Project One Row -!->
                <div class="row justify-content-center no-gutters mb-5 mb-lg-0">
                    <div class="col-lg-6"><img class="img-fluid" src="/static/assets/img/demo-image-01.jpg" alt="" /></div>
                    <div class="col-lg-6">
                        <div class="bg-black text-center h-100 project">
                            <div class="d-flex h-100">
                                <div class="project-text w-100 my-auto text-center text-lg-left">
                                    <h4 class="text-white">Misty</h4>
                                    <p class="mb-0 text-white-50">An example of where you can put an image of a project, or anything else, along with a description.</p>
                                    <hr class="d-none d-lg-block mb-0 ml-0" />
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Project Two Row -!->
                <div class="row justify-content-center no-gutters">
                    <div class="col-lg-6"><img class="img-fluid" src="/static/assets/img/demo-image-02.jpg" alt="" /></div>
                    <div class="col-lg-6 order-lg-first">
                        <div class="bg-black text-center h-100 project">
                            <div class="d-flex h-100">
                                <div class="project-text w-100 my-auto text-center text-lg-right">
                                    <h4 class="text-white">Mountains</h4>
                                    <p class="mb-0 text-white-50">Another example of a project with its respective description. These sections work well responsively as well, try this theme on a small screen!</p>
                                    <hr class="d-none d-lg-block mb-0 mr-0" />
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
		
        <!-- Signup-!->
        <section class="signup-section" id="signup">
            <div class="container">
                <div class="row">
                    <div class="col-md-10 col-lg-8 mx-auto text-center">
                        <i class="far fa-paper-plane fa-2x mb-2 text-white"></i>
                        <h2 class="text-white mb-5">Subscribe to receive updates!</h2>
                        <form class="form-inline d-flex">
                            <input class="form-control flex-fill mr-0 mr-sm-2 mb-3 mb-sm-0" id="inputEmail" type="email" placeholder="Enter email address..." />
                            <button class="btn btn-primary mx-auto" type="submit">Subscribe</button>
                        </form>
                    </div>
                </div>
            </div>
        </section>
        <!-- Contact-->
        <section class="contact-section bg-black" id="contact">
            <div class="container">
                <div class="row">
                    <div class="col-12 mb-3 mb-md-0">
                        <div class="card py-4 h-100">
                            <div class="card-body text-center">
                                <div class="small text-black-50">Um trotz der aktuellen Situation das Fitnessangebot nützen zu können, ist es wichtig zu wissen, wann die Auslastung in welchem Center am geringsten ist. Dies ermöglicht eine gute Planung der individuellen Trainingseinehiten zu Zeiten mit möglichst geringer Auslastung.</div>
								<div class="small text-black-50">Die aktuelle Auslastung wird alle 15 Minuten von <a href="https://www.one-training.ch/news-coronavirus/centerauslastung/">hier</a> ausgelesen und archiviert.</div>
							</div>
                        </div>
                    </div>
                </div>
                <div class="social d-flex justify-content-center">
                    <a class="mx-2" href="#!"><i class="fab fa-github"></i></a>
                </div>
            </div>
        </section>
        <!-- Footer-->
        <footer class="footer bg-black small text-center text-white-50"><div class="container"></div></footer>
		
        <!-- Bootstrap core JS-->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"></script>
        <!-- Third party plugin JS-->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.4.1/jquery.easing.min.js"></script>
        <!-- Core theme JS-->
        <script src="static/js/scripts.js"></script>
		
		
		<!-- Load the required resources -->
	<script src="https://code.jquery.com/jquery-3.5.1.js" integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc=" crossorigin="anonymous"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>
	<script src='https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.3.0/Chart.js'></script>
	<script src='https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.1.0/Chart.bundle.min.js'></script>
	<script src='static/js/chart_settings.js'></script>
	
	
	<!-- Doughnut Chart-->
	<script>
	{%for i in range(len)%} 
		var options{{i+1}} = {
		  type: 'doughnut',
		  data: {
		    labels: ["Besucher", "Verfügbar"],
		    datasets: [
			   {
	                label: '',
	                data: [{{current_occupancy[i]}}, {{ current_max_occupancy[i] - current_occupancy[i] }}],
	                backgroundColor: [
	                    'rgba({{current_color[i][0]}}, {{current_color[i][1]}}, {{current_color[i][2]}}, 0.2)',
	                    'rgba(220,220,220, 0.2)'
	                ],
	                borderColor: [
	                    'rgba({{current_color[i][0]}}, {{current_color[i][1]}}, {{current_color[i][2]}}, 1)',
	                    'rgba(220,220,220 ,1)'
	                ],
	                borderWidth: 1
		            }
				]
		  },
		  options: {
		   			rotation: 1 * Math.PI,
		            circumference: 1 * Math.PI,
		            legend: {
		                display: false
		            },
		            tooltip: {
		                enabled: false
		            },
		            cutoutPercentage: 80,
					responsive: true,
					tooltips: {
						backgroundColor: 'rgba(0, 0, 0, 1)'
						
					}
		  }
		}
	{%endfor%} 
	
		
	{%for i in range(len)%} 
	    var ctx{{i+1}} = document.getElementById('doughnut_chart_centre{{i+1}}').getContext('2d');
		new Chart(ctx{{i+1}}, options{{i+1}});
	{%endfor%} 

	</script>
		
	


	
    </body>
</html>
